<!--
!!  ██████╗  ██████╗       ██╗ ██████╗   ██████╗ ████████╗ ██████╗  ██████╗
!!  ██╔══██╗ ╚════██╗      ██║ ╚════██╗ ██╔════╝ ╚══██╔══╝ ╚════██╗ ██╔══██╗
!!  ██████╔╝  █████╔╝      ██║  █████╔╝ ██║         ██║     █████╔╝ ██║  ██║
!!  ██╔══██╗  ╚═══██╗ ██   ██║  ╚═══██╗ ██║         ██║     ╚═══██╗ ██║  ██║
!!  ██║  ██║ ██████╔╝ ╚█████╔╝ ██████╔╝ ╚██████╗    ██║    ██████╔╝ ██████╔╝
!!  ╚═╝  ╚═╝ ╚═════╝   ╚════╝  ╚═════╝   ╚═════╝    ╚═╝    ╚═════╝  ╚═════╝
-->

<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">

	<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

	<link rel="stylesheet" href="../css/bootstrap.min.css" />
	<link rel="stylesheet" href="../css/bootstrapOverload.css" />

	<link rel="stylesheet" href="../css/body.css" />
	<link rel="stylesheet" href="../css/form.css" />
	<link rel="stylesheet" href="../css/header.css" />
	<link rel="stylesheet" href="../css/footer.css" />
	<link rel="stylesheet" href="../css/settings.css" />

	<script src="../js/openLink.js"></script>

	<title>Settings</title>
</head>

<body>
	<div id="app">

		<div id="header">
			<h1>Settings</h1>
			<p>Change password generation</p>
		</div>

		<div id="settings">

			<button onclick="setCookie('data','name')">Set/button>
			<button onclick="getCookie('name')">Get</button>

			<p class="settings-text">Generated password length</p>

			<div id="password-length-picker">
				<div class="row">
					<div class="input-group number-spinner">
						<span class="input-group-btn data-dwn">
					<button id="remove-length-button" class="btn btn-default btn-info" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
						</span>

						<input id="password-length" type="text" onblur="checkValidPasswordLength()" class="form-control text-center" value="1" min="1" max="40">

						<span class="input-group-btn data-up">
					<button id="add-length-button" class="btn btn-default btn-info" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
						</span>
					</div>
				</div>
			</div>

			<p class="settings-text">Caracters generation rules</p>

			<section class="section section--aava">
				<div class="toggle-button toggle-button--aava">
					<input id="toggleButton" type="checkbox">
					<label for="toggleButton" data-on-text="Numbers allowed" data-off-text="Numbers not allowed"></label>
					<div class="toggle-button__icon"></div>
				</div>
				<div class="toggle-button toggle-button--aava">
					<input id="toggleButton2" type="checkbox">
					<label for="toggleButton2" data-on-text="Specials caracters allowed" data-off-text="Specials caracters not allowed"></label>
					<div class="toggle-button__icon"></div>
				</div>
			</section>

		</div>
		<p class="footer">Made with <span id="heart">❤</span> by {<a onclick="openLink('https://github.com/R3J3CT3D');">R3J3CT3D</a>}</p>
	</div>
</body>

<script>
	var session = require('electron').remote.session;
	var ses = session.fromPartition('persist:name');

	function setCookie(data, name) {
		var expiration = new Date();
		var hour = expiration.getHours();
		hour = hour + 6;
		expiration.setHours(hour);
		ses.cookies.set({
			url: "https://r3j3ct3d.github.io/EncryPass-Desktop", //the url of the cookie.
			name: name, // a name to identify it.
			value: data, // the value that you want to save
			expirationDate: expiration.getTime()
		}, function(error) {
			/*console.log(error);*/
		});
	}

	function getCookie(name) {
		var value = {
			name: name // the request must have this format to search the cookie.
		};
		ses.cookies.get(value, function(error, cookies) {
			console.console.log(cookies[0].value); // the value saved on the cookie
		});
	}
</script>

<script src="../js/changePasswordLength.js"></script>

</html>
